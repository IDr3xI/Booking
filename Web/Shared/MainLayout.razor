@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.Routing
@inject NavigationManager Nav

<div class="page">
    <div class="sidebar">
        <nav>
            <ul>
                <AuthorizeView>
                    <Authorized>
                        <li>
                            <NavLink href="/" Match="NavLinkMatch.All">Domù</NavLink>
                        </li>
                        <li>
                            <NavLink href="/account/manage" Match="NavLinkMatch.Prefix">Mùj úèet</NavLink>
                        </li>
                        <li>
                            <NavLink href="/logout" Match="NavLinkMatch.All">Odhlásit</NavLink>
                        </li>
                    </Authorized>

                    <NotAuthorized>
                        <li>
                            <NavLink href="/" Match="NavLinkMatch.All">Domù</NavLink>
                        </li>
                        <li>
                            <NavLink href="/login" Match="NavLinkMatch.All">Pøihlásit</NavLink>
                        </li>
                        <li>
                            <NavLink href="/register" Match="NavLinkMatch.All">Registrace</NavLink>
                        </li>
                    </NotAuthorized>
                </AuthorizeView>
            </ul>
        </nav>
    </div>
    <main>
        @Body
    </main>
</div>

<AuthorizeView>
    <Authorized>
        <NavLink href="/logout" Match="NavLinkMatch.All">Odhlásit</NavLink>
    </Authorized>
    <NotAuthorized>
        <NavLink href="/login" Match="NavLinkMatch.All">Pøihlásit</NavLink>
        <NavLink href="/register" Match="NavLinkMatch.All">Registrovat</NavLink>
    </NotAuthorized>
</AuthorizeView>

<style>
.page { display:flex; flex-direction:column; min-height:100vh; }
.topbar { background:#222; color:#fff; padding:0.5rem 0; }
.header-row { display:flex; align-items:center; justify-content:space-between; }
.brand { color:#fff; text-decoration:none; font-weight:700; }
.nav { display:flex; gap:1rem; align-items:center; }
.nav a { color:#ddd; text-decoration:none; padding:0.25rem 0.5rem; border-radius:4px; }
.nav a.active { color:#fff; background:rgba(255,255,255,0.06); }
.container { width:100%; max-width:1024px; margin:0 auto; padding:0 1rem; }
.content { flex:1; padding:1.5rem 0; }
.footer { background:#f5f5f5; padding:0.75rem 0; text-align:center; }
</style>